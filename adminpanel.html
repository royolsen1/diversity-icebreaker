﻿<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Prosjekt</title>
    <link rel="stylesheet" type="text/css" href="Style1.css" />

</head>
<body>
    <br />
    <div1>
        <a href="https://royolsen1.github.io/diversity-icebreaker/" class='button'><b><i>Back to Portal</i></b></a>
    </div1>
    <img src="https://i.imgur.com/PAKp0aQ.png" alt="Logo">
    <h1>Admin panel</h1>
    
    <br />
    <br />
    <input type="button" value="Refresh page" onClick="history.go(0)"> <br />
    <br />
    <input type="button" value="Number of candidates" onClick="candidatecount()"> <br />
    <br />
    <div id="candicount">Number of candidates</div>
    <br />
    <div id="nrGroupSelect">
        <div class="list">
            <div class="rbgBox">Number of groups:<input type="text" id="groupNrSelect" /></div>
            <button onclick="chooseGroups()">Set group</button>
        </div>
    </div>
    <br />
    <!--<select id="grouplist" onchange="groupdisp()">
        <option>Number of groups</option>
        <option title="Blue, Red, Green." value="t01">3</option>
        <option title="Blue, Blue-Red, Blue-Green, Green, Green-Red, Green-Blue, Red, Red-Blue, Red-Green, Average." value="t05">10</option>
    </select> <div>
        3 groups: Blue, Red, Green.
        <br />
        4 groups: Blue, Red, Green, Average.
        <br />
        10 groups: Blue, Blue-Red, Blue-Green, Green, Green-Red, Green-Blue, Red, Red-Blue, Red-Green, Average.
    </div>-->

    <div>
        <br />
    </div>

    <div id="checkBoxes">
        <label class="container">
            Blue, Red, Green
            <input type="checkbox" id="c1" onclick="check01()" checked="checked">
            <span class="checkmark"></span>
        </label>
        <label class="container">
            Average
            <input type="checkbox" id="c2" onclick="check02()">
            <span class="checkmark"></span>
        </label>
        <label class="container">
            Blue-Red
            <input type="checkbox" id="c3" onclick="check03()">
            <span class="checkmark"></span>
        </label>
        <label class="container">
            Blue-Green
            <input type="checkbox" id="c4" onclick="check04()">
            <span class="checkmark"></span>
        </label>
        <label class="container">
            Green-Red
            <input type="checkbox" id="c5" onclick="check05()">
            <span class="checkmark"></span>
        </label>
        <label class="container">
            Green-Blue
            <input type="checkbox" id="c6" onclick="check06()">
            <span class="checkmark"></span>
        </label>
        <label class="container">
            Red-Blue
            <input type="checkbox" id="c7" onclick="check07()">
            <span class="checkmark"></span>
        </label>
        <label class="container">
            Red-Green
            <input type="checkbox" id="c8" onclick="check08()">
            <span class="checkmark"></span>
        </label>
    </div>
    <div>
        <br />
    </div>
    <div3>
        <p>You have chosen: Blue, Red, Green</p><p id="Text01" style="display:none"> </p>
        <p id="Text02" style="display:none">, Average</p>
        <p id="Text03" style="display:none">, Blue-Red</p>
        <p id="Text04" style="display:none">, Blue-Green</p>
        <p id="Text05" style="display:none">, Green-Red</p>
        <p id="Text06" style="display:none">, Green-Blue</p>
        <p id="Text07" style="display:none">, Red-Blue</p>
        <p id="Text08" style="display:none">, Red-Green</p>
    </div3>

    <div4 id="test">
        Loading data...
    </div4>
    
    </pre>
    <div id="show"></div>
    <a></a>


</body>
<script src="Script2.js" charset="utf-8"></script>
<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase-firestore.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyDIMCz-H4Qa6yzO8cOEDDO-_-TNgKRwz40",
        authDomain: "diversity-icebreaker.firebaseapp.com",
        databaseURL: "https://diversity-icebreaker.firebaseio.com",
        projectId: "diversity-icebreaker",
        storageBucket: "diversity-icebreaker.appspot.com",
        messagingSenderId: "829693602828"
    };
    firebase.initializeApp(config);
    var db = firebase.firestore();

    function candidatecount() {
        db.collection('Data').get().then(function (querySnapshot) {
            document.getElementById('candicount').innerHTML = (querySnapshot.size);
        });
    }

    var todoCollection = db.collection('Data');
    todoCollection.onSnapshot(
        function (collectionSnapshot) {
            let html = '<ul>';
            collectionSnapshot.forEach(
                function (DataSnapshot) {
                    let Data = DataSnapshot.data();
                    html += '<li>' + Data.name + ' B(' + Data.blue + ') R(' + Data.red + ') G(' + Data.green + ') [' + Data.group + ']</li>';
                    //if (
                    //    data.group == red
                    //) { }
                    //else if (
                    //    data.group == blue
                    //) { }
                    //else if (
                    //    data.group == green
                    //) { }
                    //else if (
                    //    data.group == average
                    //) { }
                });
            html += '</ul>';
            console.log(html);
            document.getElementById('test').innerHTML = html;
        });

    var adminCollection = db.collection('Admin');
    var groupAmount = document.getElementById('groupNrSelect')

    function chooseGroups() {
        adminCollection.doc('group').update({
            nr: groupAmount.value
        });
    }

</script>
</html>